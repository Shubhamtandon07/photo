import requests

def translate_via_local_service(text: str, src: str, dst: str) -> str:
    text = (text or "").strip()
    if not text:
        return ""
    try:
        r = requests.post(
            "http://127.0.0.1:5005/translate",
            json={"text": text, "from": src, "to": dst},
            timeout=10,
        )
        if r.status_code == 200:
            return (r.json().get("translated") or "").strip()
        return ""
    except Exception:
        return ""
