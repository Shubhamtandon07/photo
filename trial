import os
from openai import AzureOpenAI

AZURE_OPENAI_ENDPOINT = "https://genai-nexus.api.corpinter.net/apikey/"  # your current
AZURE_API_VERSION = "2024-06-01"
AZURE_DEPLOYMENT_NAME = "gpt-4o"

key = os.getenv("AZURE_OPENAI_API_KEY") or os.getenv("OPENAI_API_KEY")

client = AzureOpenAI(
    azure_endpoint=AZURE_OPENAI_ENDPOINT,
    api_version=AZURE_API_VERSION,
    api_key=key,
)

print("endpoint:", AZURE_OPENAI_ENDPOINT)
print("deployment:", AZURE_DEPLOYMENT_NAME)

resp = client.chat.completions.create(
    model=AZURE_DEPLOYMENT_NAME,
    messages=[{"role":"user","content":"ping"}],
    temperature=0,
)
print(resp.choices[0].message.content)
